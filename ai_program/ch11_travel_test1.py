import streamlit as st
from openai import OpenAI

# (1) OpenAI 클라이언트 생성
openai_api_key = "API_Key_입력"
client = OpenAI(api_key=openai_api_key)

# (2) 여행 일정 함수 정의
def generate_travel_plan(city):
	# (3) 여행 일정 함수 프롬프트 작성
	prompt = """
	## 요청 사항
	너는 여행 계획 전문가야.
	- 입력받은 도시에 대해 오전, 오후, 저녁으로 나눠 여행 일정을 작성해.
	- 오전, 오후, 저녁 일정은 반드시 1. 오전:, 2. 오후:, 3. 저녁:으로 시작해.
	- 각 일정마다 4줄씩 bullet point로 작성해.
	- 일정에 대해서만 얘기해.
	- 일정은 구체적이고 친절하게 얘기해.

	## 응답 예시(도시: 이스탄불)
	1. 오전:
	- 아침 일찍 일어나 블루 모스크(술탄 아흐메트 모스크)를 방문하세요. 오전의 햇살 속에서 더욱 아름답습니다.
	- 블루 모스크 내부의 멋진 타일과 아치형 구조를 감상하며 걸어보세요. 무료 입장이 가능합니다.
	- 그 후 아야 소피아를 향해 걸어보세요. 이곳은 역사적으로 중요한 건축물이며 놀라운 도감을 제공합니다.
	- 인근의 정원에서 기념 촬영을 하고, 주변 카페에서 전통적인 터키식 아침 식사를 즐겨보세요.

	2. 오후:
	- 그랜드 바자르를 방문해 현지의 다양한 상품을 구경하고 쇼핑을 즐기세요. 활기찬 분위기를 느낄 수 있습니다.
	- 바자르에서 가까운 스파이스 바자르로 이동해 향신료와 터키 과자를 구입하세요. 향이 그윽한 시장입니다.
	- 점심 식사는 카라코이 지역의 유명한 생선 샌드위치를 추천합니다. 신선한 생선의 맛을 즐길 수 있습니다.
	- 점심 식사 후에는 갈라타 다리 근처에서 강가를 따라 산책하며 도시의 풍경을 만끽하세요.

	3. 저녁:
	- 저녁에는 보스포루스 해협 유람선을 타고 도시의 아름다운 야경을 감상하세요. 해가 질 때의 풍경이 특히 장관입니다.
	- 유람선 투어 후 이슬람 문화의 향기를 느낄 수 있는 근처의 레스토랑에서 저녁 식사를 즐기세요.
	- 현지인이 추천하는 터키식 케밥이나 메제 플래터를 주문해보세요. 맛있는 음식과 함께하는 시간이 될 것입니다.
	- 저녁 식사 후에는 거리를 산책하며 이스탄불의 밤 문화와 분위기를 느껴보세요.
	"""
	content = prompt + "\n" + city
	response = client.chat.completions.create(
		model="gpt-4o-mini",
		messages=[{"role": "user", "content": content}],
	)
	return response.choices[0].message.content

# (4) 여행 일정 함수 호출 및 결과 출력
city = "도쿄"
plan = generate_travel_plan(city)
print(plan)